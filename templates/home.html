<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Return to Office Helper</title>
    <link rel="stylesheet" href="/static/css/styles.css">
</head>
<body>
    <h1 style="text-align: center;">Return to Office Calendar</h1>

    <!-- Navigation Links with Current Month and Year -->
    <div class="navigation">
        <span style="font-size: 1.2em; font-weight: bold;">{{.CurrentDate.Format "January 2006"}}</span>
        <br>
        <!-- Previous Month -->
        <a href="/?year={{.PrevMonth.year}}&month={{.PrevMonth.month}}&day={{.PrevMonth.day}}">&laquo; Previous Month</a>

        <!-- Next Month -->
        <a href="/?year={{.NextMonth.year}}&month={{.NextMonth.month}}&day={{.NextMonth.day}}">Next Month &raquo;</a>
    </div>

    <!-- Action Buttons -->
    <div class="action-buttons" style="text-align: center; margin: 20px 0;">
        <button onclick="window.location.href='/add-event'" style="padding: 10px 20px; margin-right: 10px;">Add Event</button>
        <button onclick="window.location.href='/events'" style="padding: 10px 20px;">Events</button>
        <button onclick="window.location.href='/prefs'" style="padding: 10px 20px;">Prefs</button>
    </div>

    <!-- Legend -->
    <div class="legend">
        <div class="legend-item">
            <span class="legend-color holiday"></span> Holiday
        </div>
        <div class="legend-item">
            <span class="legend-color vacation"></span> Vacation
        </div>
        <div class="legend-item">
            <span class="legend-color in-office"></span> In Office
        </div>
        <div class="legend-item">
            <span class="legend-color remote"></span> Remote
        </div>
    </div>

    <!-- Calendar Table -->
    <table class="calendar">
        <tr>
            <th>Sun</th>
            <th>Mon</th>
            <th>Tue</th>
            <th>Wed</th>
            <th>Thu</th>
            <th>Fri</th>
            <th>Sat</th>
        </tr>
        {{range .Weeks}}
        <tr>
            {{range .}}
            <td class="
                {{if not .InMonth}}not-current-month{{end}} 
                {{if .Today}}today{{end}}">
                <div>{{.Date.Day}}</div>
                {{if .Events}}
                    <div class="events">
                        {{range .Events}}
                            {{if eq .Type "holiday"}}
                                <span class="event-holiday">{{.Description}}</span>
                            {{else if eq .Type "vacation"}}
                                <span class="event-vacation">{{.Description}}</span>
                            {{else if eq .Type "attendance"}}
                                {{if .IsInOffice}}
                                    <span class="event-in-office">In Office</span>
                                {{else}}
                                    <span class="event-remote">Remote</span>
                                {{end}}
                            {{end}}
                        {{end}}
                    </div>
                {{end}}
            </td>
            {{end}}
        </tr>
        {{end}}
    </table>
</body>
</html>
